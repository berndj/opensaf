OpenSAF 5.17.11 (released 2017-11-03)
-------------------------------------

    * clm: fix RPM build [#2649]
    * amfnd: fix segv in ncs_tmr_stop V2 [#2658]
    * clm: fix the build on 32-bit linux caused #2649 [#2649]
    * clm: Call opensaf_reboot_prepare() so that fallback reboot will work [#2542]
    * base: Use fallback reboot when safe reboot fails [#2542]
    * osaf: Divide the safe reboot into two phases [#2542]
    * log: fix invalid write reported by valgrind in logtest [#2657]
    * pyosaf: High level python interfaces for IMM [#2602]
    * pyosaf: High level python interfaces for NTF [#2602]
    * pyosaf: High level python interfaces for LOG [#2602]
    * pyosaf: High level python interfaces for CLM [#2602]
    * clm: fix for test.sh problem caused by patch for #2649 [#2649]
    * clm: add new admin operations [#2649]
    * dtm: Use multiple backup files when rotating trace log files [#2638]
    * dtm: Always call the configure_tipc script [#2653]
    * nid: Derive node ID from TIPC address when not managing TIPC [#2653]
    * amf: Buffer and resend data req messages in Headless state [#2601]
    * clm: fix return wrong error code [#2652]
    * amfnd: store pid before sending event [#2650]
    * clm: fix errors in clmprint tool [#2651]
    * ckptnd: fix crash during checkpoint open timeout with large sections [#1510]
    * ntf: Add support for code coverage to ntfimcn [#2623]
    * smf: smf: Upgrade nodes without using node group [#2592]
    * msg: allow real "const SaNameT" to be used in API calls [#2630]
    * ntf: Add support for code coverage to ntfimcn [#2623]
    * pyosaf: Fix various pylint and PEP8 issues of pyosaf utils [#2603]
    * amfnd: Add more details for synced SU, SISU from node director [#2575]
    * smf: coredump and syslog flood after immnd crash [#2441]
    * log: update target log file location [#2635]
    * amf: immxml-configure utility (tool) is failing with UTF-8 encoding [#2632]
    * base: Use the OpenSAF internal log service for trace [#2165]
    * base: Convert logtrace to C++ [#2165]
    * dtm: Support multiple OpenSAF internal log streams [#2165]
    * base: Add missing include for osaf_gcov.h in Makefile.am [#2620]
    * amfnd: change log level to notice for events during node failover/shutdown [#2605]
    * amf: improve error checking and display [#2628]
    * amf: fix whitespace issues [#2628]
    * base: Add IPv6 support to gcov collect [#2620]
    * pyosaf: retry SAF initialize() function with original version [#2524]
    * ckpt: add timeout handling for test_ckptOverwrite [#2624]
    * pyosaf: Raise ValueError instead NoneType Exception [#1410]
    * msg: don't create cache entry if operation is delete [#2619]
    * base: double start failed [#2622]
    * dtm: Add support for using IP unicast to discover nodes [#991]
    * dtm: Extract Multicast class for node discovery message handling [#991]
    * osaf: create C++ abstractions of AIS C APIs for IMM [#2558]
    * smf: Upgrade failed due to CCB aborted by imm sync request [#2584]
    * clm: Add user data in CLMSV_CLUSTER_JOIN_REQ message V2 [#2590]
    * log: fix test case logtest 5 2 failed due to logsv is busy [#2600]
    * amf: Allow SI and SI Dependency object to be deleted in same ccb [#2585]
    * uml: Add support for IPv6 and update Linux version [#2593]
    * amf: Improve SC status change callback style [#2594]
    * smf: Upgrade failed due to CCB aborted by imm sync request [#2584]
    * amfd: Add routine find_instantiable_same_rank_su as part of SG class [#2462]
    * amfd: choose unlocked instantiable SU for instantiation [#2462]
    * log: corrected parsing of command logtest with option -e [#2121]
    * ntf: correct return code is returned [#2039]
    * pyosaf: Make pyosaf:::immom::initialize() consistent with other modules [#2533]
    * amf: ensure we do not reuse version when calling OpenSAF init functions [#2587]
    * ntf: fix incorrect handling of version when initializing OpenSAF APIs in ntf service [#2517]
    * log: fix incorrect handling of version when initializing OpenSAF APIs [#2516]
    * imm: Don't call exit() in IMM library [#2604]
    * log: remove duplicated code in lga_client and lga_stream [#2567]
    * amfd: remove node_up variable from AVD_AVND [#2595]
    * imm: Update admo id after resurrecting [#2591]
    * osaf: Add gcov support [#2589]
    * smf: execLevel for balanced upgrades [#2555]
    * mds: Improve log message at tipc overload [#2574]
    * smf: try to wait for opensafd status before reboot [#2464]
    * imm: Don't allow setting new admo name when object is in a critical CCB [#2576]
    * imm: remove disconnected appliers [#2579]
    * plm: fix systemd files for plm and opensaf [#2581]
    * amf: Fix incorrect su failover recovery after sc absence [#2569]
    * mds: supervise receive thread throughput [#2570]
    * amfd: harden completed and apply delete callbacks [#2566]
    * log: fix log server fail to start with old IMM model [#2580]
    * amfd: Fix compilation error with gcc version > 6.3 [#2577]
    * amf: Fix amf_demo program compilation error [#2578]
    * amfnd: fix opensaf shutdown and active monitoring failure [#2493]
    * imm: Validate input invocation for saImmOiAdminOperationResult [#2571]
    * imm: Regenerate PBE on SQLITE_CORRUPT and SQLITE_MISMATCH [#2573]
    * dtm: Fix build problem on some systems [#2553]
    * amfd: update SI assignment state when SU is added or removed [#2269]
    * dtm: Re-indent DTM after conversion to C++ [#2553]
    * dtm: Convert DTM to C++ [#2553]
    * amfd: honor PrefAssignedSU in nway and nway active model during assignments [#2269]
    * build: Add an experimental directory for new code and features [#2563]
    * smf: fix to avoid core dump during smf upgrade while imm sync [#2550]
    * amfd: postpone deletion of node from node_id_db [#2547]
    * amf: add api test cases for sc status change callback [#2475]
    * amf: add sample apps for SC status change callback [#2475]
    * amf: support SC status change callback, non SAF [#2475]
    * amf: update readme for SC status change callback [#2475]
    * amfa: return BAD HANDLE in error report or error clear [#248]
    * amfnd: remove incorrect assertion [#2565]
    * amfnd: convert dnd_list to a vector [#1945]
    * dtm: Re-factor the inter-node receive logic [#2554]
    * imm: change log level from error to warning in PBE [#2559]
    * amfa: Fix saAmfComponentErrorClear_4 to return ERR_NOT_EXIST for non-exist comp [#2540]
    * imm: fix immnd coredump due to initialized CLM handle [#2549]
    * dtm: Support clusters with more than one hundred nodes [#2240]
    * imm: regenerate PBE in verifyClassPBE only if database is corrupted [#2491]
    * imm: include CLM in poll before CLM handle is initialized [#2544]
    * dtmd: send broadcast messages after initial discovery [#2522]
    * amfa: Fix saAmfPmStart_3 and saAmfResponse_4 to correctly return BAD_HANDLE [#2539]
    * log: fix cppcheck, cpplint and reorganize headers - part 1 [#2445]
    * dtmd: change log wording [#2030]
    * rde: Avoid sending messages to peers that are not up [#2488]
    * dtmd: fix uninitialized memory errors and crashes when deleting nodes [#2545]
    * log: fix log supported maximum 2047 characters for long DN [#2525]
    * log: fix referring to uninitialized variable caused assertion failed [#2546]
    *  amf: add option for controller status in amfclusterstatus [#2536]
    * base: Fix GCC 7.1.1 build error [#2535]
    * clm: Provide the node address as a parameter to the scale-out script [#2538]
    * clm: Include boot time and node address in join request message [#2489]
    * base: Add osaf_get_boot_time and osaf_timespec_average functions [#2535]
    * amfd: Do not create duplicated HA state absent SUSI [#2530]
    * clm: add clm tool for tracking and for getting node info [#2429]
    * base: Corrected service name for rde [#2519]
    * clm: Make it possible for a node to scale out itself using autoscaling [#2509]
    * ntf: Re-try initializing CLM on unconfigured nodes [#2509]
    * log: Re-try initializing CLM on unconfigured nodes [#2509]
    * amf: Log CLM initialization error only once on unconfigured nodes [#2509]
    * log: fix coredump generated by referencing to un-initialized pointer [#2534]
    * pyosaf: Fix RPM build failure [#2492]
    * clm: increase poll timeout for saClmClusterTrack tests [#2531]
    * clm: handle ERR_BAD_HANDLE for saImmOmSearchInitialize [#2528]
    * smf: no node locking when procedures are empty [#2521]
    * imm: regenerate PBE on SQL constraint error [#2527]
    * clm: make CLM tests independent of other CLM tests [#2520]
    * plmd: allow dynamic creation of EE when EE is parent [#2483]
    * plm: make plmc work with systemd [#2507]
    * clmd: update saClmNodeCurrAddress and saClmNodeCurrAddressFamily in IMM V2 [#2331]
    * amfd: Avoid to create duplicated 2N ACTIVE SUSI for absent assignment V2 [#2477]
    * amfd: increase msg priority for node ups [#2510]
    * plmd: don't reset VM if it is ourself, when parent is instantiated [#2482]
    * ntfd: Merge 2 fixes of mutex destroy issue [#2508]
    * ntfd: Revert commit 3c8031a10e3082ccfbff135142b9e18c5814ed4c [#2508]
    * log: update test case logtest 2 51 [#2515]
    * imm: send imm finalize message to immnd when dispatch returns ERR_BAD_HANDLE [#2504]
    * ntfd: Ensure mutex is not taken after cnsurvail_thread is canceled V2 [#2508]
    * amfd: Do not log warning when create (or delete) a existed(or nonexisted) SUSI [#2467]

OpenSAF 5.17.07 (released 2017-07-27)
-------------------------------------

    * log: fix coredump generated by referencing to un-initialized pointer [#2534]
    * pyosaf: Fix RPM build failure [#2492]
    * clm: increase poll timeout for saClmClusterTrack tests [#2531]
    * clm: handle ERR_BAD_HANDLE for saImmOmSearchInitialize [#2528]
    * imm: regenerate PBE on SQL constraint error [#2527]
    * clm: make CLM tests independent of other CLM tests [#2520]
    * amfd: Avoid to create duplicated 2N ACTIVE SUSI for absent assignment V2 [#2477]
    * amfd: increase msg priority for node ups [#2510]
    * ntfd: Merge 2 fixes of mutex destroy issue [#2508]
    * ntfd: Revert commit b232f6df3ce5d6edf07af92eca316a7d3fae6d73 [#2508]
    * log: update test case logtest 2 51 [#2515]
    * imm: send imm finalize message to immnd when dispatch returns ERR_BAD_HANDLE [#2504]
    * ntfd: Ensure mutex is not taken after cnsurvail_thread is canceled V2 [#2508]
    * amfd: Do not log warning when create (or delete) a existed(or nonexisted) SUSI [#2467]
    * ntf: Test cases fail on SC nodes [#2505]
    * ntf: ntfimcn does not handle SA_ERR_UNAVAILABLE [#2506]
    * smf: 20 seconds timeout in getting node destination is not enough [#2499]
    * pyosaf: Ensure compatibility with Python 3 [#2492]
    * ntf: ntfimcn does not handle SA_ERR_UNAVAILABLE [#2506]
    * build: Fix RPM build failure [#2472]
    * build: Move all AIS C header files to a common subdirectory under src [#2472]
    * osaf: Fix build problems when using GCC 7.1.1 [#2502]
    * rde: allow early role change when active or standby nodes are introduced [#2513]
    * clmtest: update non-member node_id for new test environment [#2512]
    * amfnd: retry on ERR_NOT_EXIST [#2490]
    * amfd: Accept ERR_NOT_EXIST on stopping track callback [#2469]
    * imm: fix counting timeouts for old critical CCBs [#2495]
    * imm: remove vector clearing for dead implementers, nodes and admin owners in objectSync [#2481]
    * imm: change log level from error to warning when ERR_TRY_AGAIN is returned [#2465]
    * rde: save peer role on peer info request message [#2423]
    * amfd: maintain node attributes in imm job queue at standby [#2494]
    * amfd: skip unassigned SUSIs in SU for updating saAmfSUAssignedSIs [#2496]
    * base: Try again for opensafd stop [#2459]
    * imm: change log level from error to warning when ERR_TRY_AGAIN is returned [#2465]
    * clmtest: correct independent test cases [#2497]
    * osaf: Support DESTDIR when installing OpenSAF samples [#2460]
    * imm: fix counting timeouts for old critical CCBs [#2495]
    * imm: Allow stale clients to be discarded when going to headless [#2487]
    * amfnd: Send pending susi response message after restarting component finishes [#2485]
    * imm: remove vector clearing for dead implementers, nodes and admin owners in objectSync [#2481]
    * test: improve fail report of multiple test_validate [#2486]
    * log: fix log agent use hard-coded version when recovering log client [#2457]
    * immtest: Explicitly clear implementer name in OI long DN testcases [#2484]
    * imm: Clear mLastResult before sending response to agent [#2470]
    * clmtest: Correct test case following AIS [#2478]
    * mds: clear mds lib valgrind warning [#2474]
    * base: Atomically create pid file from temporary pid file V2 [#2432]
    * amfnd: Only report OperState in SURestart recovery if su is under SMF maintenance campaign [#2476]
    * msg: resurrect msg tests [#2455]
    * imm: Discard Adm Impl continuation and Search Impl continuation when peer IMMND is down [#2461]
    * imm: Clear dead IMMND info before switching to ACTIVE role [#2418]
    * log: refactor log agent - 2nd increment [#2412]
    * amfd: do not assert unnecessarily [#2458]
    * amfd: only increment su_cnt_admin_oper for non-opensaf SUs [#2466]
    * ntf: ntftest to check longDnsAllowed to run or skip suite 35 [#2463]
    * lck: implement saLckLimitGet [#2425]
    * log: process TRY AGAIN in logtest 2 40 and logtest 2 41 [#2453]
    * imm: Skip sending re-intro message if IMMD is not up [#2447]
    * imm: Remove CcbErrStrings that are set only on nodes with OI/PBE [#2446]
    * amfnd: Buffered not-ack susi assignment response after both SC go down V2 [#2105]
    * rde: save peer role on peer info request message [#2423]
    * amf: send oper_state when NCS SUs already instantiated [#2443]
    * msg: resurrect apitests [#2455]
    * amfd: Check IMM service status before use IMM call [#2416]
    * clm: add tool commands clm-adm, clm-state, clm-find [#2394]
    * amfnd: Ignore susi_assign_evh while active amfd is down [#2416]
    * amfd: Make creation and deletion of assignment object as IMM synced call [#2416]
    * amfd: Add iteration to failover all absent assignments [#2416]
    * amfnd: Ignore susi_assign_evh while active amfd is down [#2416]
    * amfd: Make creation and deletion of assignment object as IMM synced call [#2416]
    * amfd: Add iteration to failover all absent assignments [#2416]
    * log: correct mutex lock and unlock sequence in logd [#2452]
    * lckd: fix return values when creating IMM runtime object [#202]
    * lck: integrate LCK with CLM [#2390]
    * amf: support amf tool command to know AMF cluster/nodes status [#2354]
    * doc: update general and AMF readme files [#2435]
    * lck: integrate LCK with CLM [#2390]
    * amfnd: Ignore second NCSMDS_DOWN [#2436]
    * smf: updated the imm API vesrion to latest supported [#2431]
    * amfd: make auto repair restriction configurable [#2435]
    * log: generate hash only if having destination name set [#2438]
    * amfnd: Fix illegal memory access in avnd_comptype_delete [#2424]
    * base: Blocking send causes AMF health check time-out [#2278]
    * smf: Attribute value handling in longDn applier is incorrect [#2442]
    * log: fix checkpoint dest_names in open stream request [#2434]
    * base: Blocking send causes AMF health check time-out [#2278]
    * imm: Improve ccb error string handling [#2367]
    * smf: cli-command does not wait for nodes to start [#1969]
    * lcknd: fix deadlock issues when lcknd restarts [#2430]
    * imm: Ignore the sync'ed IMMND nodes that are not up [#2418]
    * log: refactor log agent [#2412]
    * imm: Add more details to no dangling CcbErrorString [#2433]
    * amfd: allow nodeswbundle deletion if anyone of Node, SU or SG is locked_in [#2421]
    * clms: return TIME_OUT for unlock op if CLMS update to CLM agent fails [#2381]
    * cpd: to correct failover behavior of cpsv [#1765]
    * imm: Use waitpid with WNOHANG to check for sync process and pbe process [#2420]
    * samples: fix $piddir undefined in amf_demo_script [#2410]
    * log: fix race condition in share file system [#2383]
    * amfd: Job queue differentiation [#2376]
    * amf: Handle node_down message [#2376] V2
    * amf: Replace unused message SHUTDOWN_APP_SU_MSG for NODE_DOWN_MSG [#2376]
    * log: fix log file size not reset to zero when creating [#1439]
    * imm: Check if response is NULL when sending MDS sync message [#2401]
    * amfd: Job queue differentiation [#2376]
    * amf: Handle node_down message [#2376] V2
    * Merge branch 'ticket-2376' into develop
    * amf: Replace unused message SHUTDOWN_APP_SU_MSG for NODE_DOWN_MSG [#2376]
    * imm: Fixed memory leak in imm_cfg.c [#2408]
